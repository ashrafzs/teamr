{{#if showLabel === true && !alwaysHideLabel && field.metadata.label !== ""}}
<div>
    <strong>
        {{#if field.metadata.customProperties != null && field.metadata.customProperties["documentation"] != null}}
        <div class="help-tooltip">{{field.metadata.label}}:
            <Tooltip data="{{field.metadata.customProperties.documentation[0]}}"></Tooltip>
        </div>
        {{else}}
        {{field.metadata.label}}:
        {{/if}}
    </strong>
    <div ref:container class="{{class}}"></div>
</div>
{{else}}
<div ref:container class="{{class}}"></div>
{{/if}}

<script>
	import Tooltip from "./help/Tooltip";

	export default {
		oncreate() {
			const field = this.get("field");
			const app = this.get("app");
			const parent = this.get("parent");
			const form = this.get("form");

			const output = app.controlRegister.getOutput(field);

			// Never show label if `alwaysHideLabel` is set to true.
			const outputDisplayConfig = output.constants || {};
			this.set({
				alwaysHideLabel: outputDisplayConfig.alwaysHideLabel
			});

			// eslint-disable-next-line
			new output.constructor({
				target: this.refs.container,
				data: {
					field,
					app,
					form,
					parent
				}
			});

			const cssClass = field.metadata.customProperties != null ? field.metadata.customProperties.cssClass : null;

			// Set correct css class based on the field type.
			if (outputDisplayConfig.block) {
				this.set({ class: `block ${cssClass}` });
			}
			else {
				this.set({ class: `inline ${cssClass}` });
			}
		},
		data() {
			return {
				showLabel: true
			};
		},
		components: {
			Tooltip
		}
	};
</script>

<style>
    .inline {
        display: inline-block
    }
</style>
